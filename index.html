<!DOCTYPE html>
<meta 
charset="utf-8" 
xmlns:display="http://www.w3.org/1999/xhtml"  
/>
<meta content=’width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0′ name=’viewport’ />
<style>
    body {
        font-family: Arial;
    }
    .sidenav {
    height: 100%;
    width: 0;
    position: fixed;
    z-index: 1;
    top: 0;
    left: 0;
    background-color: #111;
    overflow-x: hidden;
    transition: 0.5s;
    padding-top: 60px;
    }
    #exhibitor_input {
        padding: 6px;
        margin-left: 10px;
        margin-right: 10px;
    }
    #exhibitor_names {
        padding: 12px;
    }
    
    #interactive_map {
        z-index: -1;
        margin:0;position:fixed;top:0;right:0;bottom:0; left:0;
        background-color: #FFFFFF;
        cursor: all-scroll;
    }
    #interactive_map svg {
        width: 100%;
        height: 100%;
    }
    .sidenav li {
        padding: 0.4em;
        text-decoration: none;
        font-size: 1.3em;
        color: #818181;
        display: block;
        transition: 0.3s;
        cursor: pointer;
        border-style: none none solid none;
        border-bottom-width: 1px;
    }
    .sidenav li:hover {
        background-color: #e1e1e1;
    }
    .sidenav .closebtn {
        position: absolute;
        color: #6AAFC7;
        top: 0;
        right: 25px;
        font-size: 36px;
        margin-left: 50px;
    }
    @media screen and (max-height: 450px) {
      .sidenav {padding-top: 15px;}
      .sidenav a {font-size: 18px;}
    }
    div.scrollmenu li {
        display: inline-block;
        color: white;
        text-align: center;
        padding: 14px;
        text-decoration: none;
        cursor: pointer;
    }
    #tooltip {
        position: absolute;
        z-index: 100;
        display: none;
        background-color: black;
        padding: 3px;
        color: white;
    }
    .dropdown {
    position: relative;
    display: inline-block;
    }
    .dropdown-content {
        display: none;
        position: absolute;
        background-color: #f9f9f9;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        padding: 6px 8px;
        z-index: 1;
    }
    
    #skillset_list li{
        font-size: 1em;
        padding: 4px;
    }
    .dropdown:hover .dropdown-content {
        display: block;
    }
</style>

<script src="https://d3js.org/d3.v4.js">Text</script>

<body>

<div id="tooltip"></div>

<div id="exhibitor_list" class="sidenav">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <input type="text" id="exhibitor_input" onkeyup="filter_exhibitors()" placeholder="Search for exhibitor.." title="Seach for exhibitor">
    <br>
    <br>
        <div class="dropdown">
          <span style="color: white; background-color: rgb(42, 180, 201); padding: 6px; margin: 8px;">Filter skillsets</span>
          <div id="skillset_list" class="dropdown-content">
            <li>Logistics</li>
            <li>Management</li>
            <li>Advanced Mathematics</li>
            <li>Energy- and Environmental Technology</li>
            <li>Electronics</li>
            <li>Medical Technology</li>
            <li>Biology & Biotechnology</li>
            <li>Finance</li>
            <li>Physics</li>
            <li>Chemistry</li>
            <li>Product Development</li>
            <li>Control Systems</li>
            <li>Programming</li>
            <li>Information Technology</li>
            <li>Mechanics</li>
            <li>Construction Technology</li>
            <li>Graphic Design</li>
            <li>Marketing</li>
            <li>Production</li>
          </div>
        </div>
  <ul id="exhibitor_names"></ul>
</div>

<span style="font-size:2em;cursor:pointer;background-color: #2AB4C9; padding:8px; color:white;" onclick="openNav()">&#9776; Exhibitor list</span>

<div id="map-container" class="svg-container" onclick="closeNav()">
    <div id="interactive_map" class="svg-content-responsive"/>
</div>


</body>

<script>
//Side navigation, list of exhibitors
function openNav() {
    document.getElementById("exhibitor_list").style.width = "250px";
}
function closeNav() {
    document.getElementById("exhibitor_list").style.width = "0";
}
var skillsets = document.getElementById("skillset_list").childNodes;
var skillset_dict = {};
//Put in another file/db, see attached python-script to generate this list
skillset_dict["Logistics"] = ["T116","C60","C02","T135","T125","C51","C70","T130","C49","T112","C33","C17","T123","C20","T108","T104","C38","T99","C52","C66","T126","K88","T142","C69","T96","C34","T132","C05","C36","C32","K83","C10","C27","C72","C26","T131","C30","T143","C59","C55","C11","T136","T149","T122","K82","C64","K73","C07","C63","T100","K76","T134","K87","K74"];
skillset_dict["Management"] = ["T116","C60","C02","T135","T148","T125","C51","T95","C17","T98","T123","K89","C20","C57","T104","C38","T99","K92","C66","T126","K88","T142","C69","T96","K91","T133","T119","C34","T132","C05","C37","C36","C32","K83","C27","C72","C53","T150","T131","T153","C30","C59","T113","C55","K90","T136","C44","T141","K82","C64","K73","C07","C63","T100","T134"];
skillset_dict["Advanced Mathematics"] = ["C02","T146","T144","T95","C39","T137","C61","C01","C20","C57","T103","T104","K92","C66","T142","C18","T96","K85","C37","C36","T120","C32","K75","K83","C27","C72","T115","C53","T93","K90","C44","T122","K82","C64","K73","C07","T100","K85","C65","T118"];
skillset_dict["Energy- and Environmental Technology"] = ["T116","C02","T148","C62","T146","T125","T95","T128","C70","T130","C49","C56","C31","C17","T98","T123","C20","T104","T99","T126","C69","T132","C06","C37","C50","C32","K83","C10","C27","C72","T93","C55","C11","T101","K86","C16","C44","T141","C64","K73","C07","C63","T100","K85","K76","K87","T118"];
skillset_dict["Electronics"] = ["T107","C62","T146","T138","C28","T95","T128","T152","T130","C49","C39","C56","C33","C01","C31","C17","T98","C03","K89","C20","C57","T103","C58","T104","C38","C68","T99","C52","T127","T126","K88","C09","C69","C34","T132","C05","C37","K77","C50","C32","K75","K83","C10","C27","C72","C53","T93","T153","T143","C59","C21","C11","K86","T139","C13","C16","K82","T97","C19","C64","K73","C07","C63","T100","K85","K76","K87","K74","C65","T118"];
skillset_dict["Medical Technology"] = ["C62","C51","T95","K79","T98","C03","C43","C58","T104","C09","C37","C32","C53","K86","C44","K73","C07","K85","T118"];
skillset_dict["Biology & Biotechnology"] = ["C62","T125","C51","T95","C70","K79","C01","C17","T98","C43","T104","T126","C37","C32","T110","K83","C53","K86","C44","T141","K73","K85","T118"];
skillset_dict["Finance"] = ["C60","C02","T135","T125","C51","T130","T137","C45","T123","C20","T104","C38","K88","C69","T96","C34","K85","T132","C36","K83","C27","C24","C72","T131","C54","C30","K73","T147","C07"];
skillset_dict["Chemistry"] = ["T148","C62","T125","C51","T95","C70","T130","C47","K79","C01","C17","C43","C66","T126","C34","T132","C06","C32","T110","K83","C10","C72","C26","C53","T131","C54","C55","C11","K86","C16","C44","T141","T122","C64","K73","C07","K85","T118"];
skillset_dict["Physics"] = ["T116","T148","C62","C35","T95","T128","T130","C39","T137","C61","C01","C17","K89","C20","C57","T103","C68","T99","C66","C34","C36","T120","C32","K75","K83","C27","C24","C72","C26","C53","C54","T153","C55","C21","C11","K86","C44","T122","T97","C19","C64","K73","C07","K85","C65","T118"];
skillset_dict["Image processing & Visualisation"] = ["C62","T146","C35","T95","C33","C58","C68","K92","T145","T142","C69","C18","C48","K83","C53","T93","C42","T153","C59","C13","K82","T97","C19","K73","C22","C41","T100","K76","T134","C65"];
skillset_dict["Product Development"] = ["C02","T107","T148","C62","T146","T144","T125","C28","C51","C35","T95","T152","C70","T130","C49","C47","C39","T137","C56","C45","C33","K79","C01","C25","C31","C17","C03","T123","K89","C20","C57","T103","C58","T108","T104","C38","C68","C52","T127","T145","T126","K88","C09","T142","C69","T96","K91","C34","T132","C05","C06","C37","T120","K77","C50","C32","K75","K83","C10","C27","C24","C72","C26","C53","T93","T131","C42","C54","T153","C30","T143","C59","T114","C55","T105","C21","C23","K86","T136","T139","T141","T122","K82","C19","K73","C04","C07","C63","C22","K85","K76","K87","K74","C65","T118"];
skillset_dict["Control Systems"] = ["C62","T146","T144","C35","T95","T128","C70","T130","C49","C39","C56","C61","C01","C17","C20","T103","C58","C38","T127","T145","T126","K88","C09","K91","C34","K85","C05","C36","K77","C50","C32","K83","C27","C24","C72","T93","C54","T153","C55","C21","K86","T139","C16","C19","C64","K73","C07","C63","T100","K85","K76","K87","K74","C65"];
skillset_dict["Programming"] = ["T116","C60","C02","T135","T107","C62","T146","T144","T138","C28","T94","C35","T95","T152","C70","T130","C49","C40","T112","C39","T137","C45","C61","C33","C01","C25","C31","T98","C03","C43","T123","K89","C20","C57","T103","C58","T154","T108","T104","C38","C68","K92","C52","C12","T127","T145","K88","C09","T140","T142","C69","C18","T96","T106","K91","T133","T119","C48","K85","T117","C05","T124","C36","K77","C50","C32","K75","K83","C27","C24","C72","T115","C53","T93","C42","C54","T153","T143","C59","T114","C55","C11","K90","K86","T139","C13","T97","C19","C64","K73","C04","T147","C07","C63","C22","K85","K76","T134","K87","K74","C65","T118"];
skillset_dict["Information Technology"] = ["T116","C60","C02","T135","C62","T146","T144","T138","C35","T95","C40","T112","C45","C33","C25","C31","C43","T123","K89","C20","C57","T108","T104","C38","K92","C52","C12","T145","K88","T142","C69","T96","K91","T133","T119","C48","C36","K77","C50","C32","K83","C27","C72","T115","C53","T150","T93","C42","C54","T153","T143","C59","T113","T114","C11","K90","K86","C13","C19","C64","K73","T147","C63","K85","K76","K87","K74"];
skillset_dict["Mechanics"] = ["T107","C62","T146","T144","C28","C35","T95","T128","T152","C70","C49","C39","C56","C33","C01","C31","C17","C03","K89","C20","T103","C58","C68","C52","C66","T127","T126","C09","C69","C18","T132","C05","C06","C37","T120","K77","C50","C32","K75","K83","C27","C24","C72","T93","C54","T153","C59","C46","C21","K86","T139","C16","C44","T122","K82","C19","C64","K73","C07","C63","T100","K85","K76","K87","K74","C65","T118"];
skillset_dict["Construction Technology"] = ["T116","T95","C17","T129","C52","T132","C37","C50","C32","K83","T93","C11","T101","K86","T136","C44","C64","K73","T100","K85","K76","T118"];
skillset_dict["Graphic Design"] = ["T116","C33","C38","K92","T145","K88","T142","C69","K91","T119","K83","C72","T153","K82","K73"];
skillset_dict["Marketing"] = ["T116","C02","T125","K89","C20","T104","C38","K92","T126","K88","C69","T96","T119","T132","K83","C27","C72","T153","C59","K90","K73","C07"];
skillset_dict["Production"] = ["T148","C62","T144","T125","C51","C35","T152","C70","C49","C47","C33","C01","T123","K89","C58","T108","T104","C38","T126","K88","C09","C69","T132","C05","C06","T120","C50","C32","K83","C27","C24","C72","C26","T131","C54","T153","C30","T143","C59","C55","C21","K86","T136","T139","T141","T122","K82","K73","C07","C63","K85","K76","K87","K74"];
//Mark which monters and skillsets are currently in the filter
var active_skillsets = [];
var active = [];
//Filter out the skillsets not pressed
var clickOnSkillset = function() {
    var skill = this.textContent;
    if (active_skillsets.includes(skill)) {
        //If unchecked skillset
        active_skillsets = active_skillsets.filter(e => e !== skill);
        for (i = 0; i < skillset_dict[skill].length; i++){
            var index = active.indexOf(skillset_dict[skill][i]);
            if (index > -1){
                active.splice(index, 1);
            }
        }
    } else {        active_skillsets.push(skill);
    }
    ul = document.getElementById("exhibitor_names");
    li = ul.getElementsByTagName("li");
    for (i = 0; i < li.length; i++) {
        var id = li[i].innerHTML.substr(0,li[i].textContent.indexOf(' '));
        if (active_skillsets.length == 0) {
            //If no skillsets are selected, view every exhibitor
            li[i].style.display = "";
        } else if (active_skillsets.includes(skill) && skillset_dict[skill].includes(id)) {
            li[i].style.display = "";
            active.push(id);
        } else if (!active.includes(id)) {
            li[i].style.display = "none";
        }
    }
    if (this.style.backgroundColor === "rgb(42, 180, 201)"){
        this.style.backgroundColor = "white";
        this.style.color = "#818181";
    } else {
        this.style.backgroundColor = "rgb(42, 180, 201)";
    }
    //Lower opacity on map
    filterMap();
};
function add_skillset_listener() {
    for (var i = 1; i < skillsets.length; i += 2) {
        skillsets[i].addEventListener('click', clickOnSkillset, false);
    }
};
add_skillset_listener();
//Put in another file/db
var exhibitor_dict = {};
exhibitor_dict["K80"] = "ABB AB";
exhibitor_dict["T116"] = "Academic Work - home of the young professionals";
exhibitor_dict["C60"] = "Acando";
exhibitor_dict["C02"] = "Accenture";
exhibitor_dict["T135"] = "Accigo";
exhibitor_dict["T107"] = "ACTIA Nordic AB";
exhibitor_dict["T148"] = "AkzoNobel";
exhibitor_dict["C62"] = "Alten Sverige AB";
exhibitor_dict["T146"] = "Altran Sverige AB";
exhibitor_dict["T144"] = "AP&T";
exhibitor_dict["T138"] = "ARCCORE";
exhibitor_dict["T125"] = "Arla Foods";
exhibitor_dict["C28"] = "ARRIS";
exhibitor_dict["C51"] = "AstraZeneca";
exhibitor_dict["T94"] = "Attentec AB";
exhibitor_dict["C35"] = "Autoliv Sverige AB";
exhibitor_dict["T95"] = "AVL";
exhibitor_dict["T128"] = "Awapatent";
exhibitor_dict["T152"] = "BAE Systems Bofors";
exhibitor_dict["C70"] = "BillerudKorsnäs";
exhibitor_dict["T151"] = "Boliden";
exhibitor_dict["T130"] = "BorgWarner";
exhibitor_dict["C29"] = "Bosch";
exhibitor_dict["C49"] = "Cambrex";
exhibitor_dict["C47"] = "Capgemini";
exhibitor_dict["C40"] = "Centiro Solutions";
exhibitor_dict["T112"] = "CEVT";
exhibitor_dict["C39"] = "CGI Sverige AB";
exhibitor_dict["T102"] = "Cinnober";
exhibitor_dict["T137"] = "Climeon";
exhibitor_dict["C56"] = "CLX Communications AB";
exhibitor_dict["C45"] = "Combine Control Systems AB";
exhibitor_dict["C61"] = "Combitech AB";
exhibitor_dict["C33"] = "ComplyiT";
exhibitor_dict["K79"] = "Condesign Engineering";
exhibitor_dict["C01"] = "Configura";
exhibitor_dict["C25"] = "Conmore Ingenjörsbyrå AB";
exhibitor_dict["C31"] = "COWI AB";
exhibitor_dict["C17"] = "DeLaval International AB";
exhibitor_dict["C15"] = "Dell";
exhibitor_dict["T98"] = "Devex Mekatronik";
exhibitor_dict["C03"] = "Dfind";
exhibitor_dict["C43"] = "EG Sverige AB";
exhibitor_dict["T123"] = "Emerson";
exhibitor_dict["K89"] = "Epiroc";
exhibitor_dict["C20"] = "Ericsson";
exhibitor_dict["C57"] = "ESA - European Space Agency";
exhibitor_dict["T103"] = "Etteplan";
exhibitor_dict["C58"] = "Eurofins Digital Testing Sweden";
exhibitor_dict["T154"] = "Exsitec";
exhibitor_dict["T108"] = "EY";
exhibitor_dict["T104"] = "Fagerhults Belysning";
exhibitor_dict["C38"] = "FLIR Systems AB";
exhibitor_dict["C68"] = "FMV";
exhibitor_dict["T99"] = "Forefront Consulting Group";
exhibitor_dict["K92"] = "Forsen AB";
exhibitor_dict["T129"] = "Forskarutbildning vid Tekniska högskolan, Linköpings universitet";
exhibitor_dict["C52"] = "Framtiden AB";
exhibitor_dict["C12"] = "Försäkringskassans IT-avdelning";
exhibitor_dict["C66"] = "GKN Aerospace Engine Systems";
exhibitor_dict["T127"] = "Hiab AB";
exhibitor_dict["T145"] = "HiQ Ace AB";
exhibitor_dict["T126"] = "Holmen AB";
exhibitor_dict["K88"] = "Husqvarna Group";
exhibitor_dict["C09"] = "i3tex AB";
exhibitor_dict["T140"] = "Ida Infront Ab";
exhibitor_dict["T142"] = "IFS";
exhibitor_dict["C69"] = "IKEA";
exhibitor_dict["C18"] = "Image Systems";
exhibitor_dict["C71"] = "Infomaker Scandinavia AB";
exhibitor_dict["T96"] = "Infor";
exhibitor_dict["T106"] = "IST";
exhibitor_dict["C14"] = "JM ab";
exhibitor_dict["K91"] = "Knowit";
exhibitor_dict["T133"] = "Kriminalvården";
exhibitor_dict["K78"] = "Lime by Lundalogik";
exhibitor_dict["C67"] = "Linköpings kommun";
exhibitor_dict["T119"] = "MindRoad AB";
exhibitor_dict["C48"] = "Mycronic";
exhibitor_dict["C34"] = "Nasdaq";
exhibitor_dict["K85"] = "Next Stop Gothenburg";
exhibitor_dict["T117"] = "Opera Software";
exhibitor_dict["T132"] = "Ovako";
exhibitor_dict["C05"] = "Parker Hannifin";
exhibitor_dict["T121"] = "PE";
exhibitor_dict["T124"] = "Polisens it-avdelning";
exhibitor_dict["C06"] = "Preem AB";
exhibitor_dict["C37"] = "PRV (Patent- och registreringsverket)";
exhibitor_dict["C36"] = "PwC Risk Assurance Solutions & PwC Advisory";
exhibitor_dict["T120"] = "Quintus Tqchnologies";
exhibitor_dict["K77"] = "Reach Consulting";
exhibitor_dict["C50"] = "Rejlers Sverige AB";
exhibitor_dict["C32"] = "RISE Research Institutes of Sweden";
exhibitor_dict["T110"] = "RMV, Rättsmedicinalverket";
exhibitor_dict["K75"] = "RUAG Space AB";
exhibitor_dict["K83"] = "Saab - Defence and Security";
exhibitor_dict["C10"] = "Saft AB";
exhibitor_dict["C27"] = "Sandvik";
exhibitor_dict["C24"] = "Scanfil Åtvidaberg AB";
exhibitor_dict["C72"] = "Scania CV AB";
exhibitor_dict["T115"] = "Scila AB";
exhibitor_dict["C26"] = "Seco Tools";
exhibitor_dict["C53"] = "Sectra AB";
exhibitor_dict["T150"] = "Secure State - Global Cybersecurity";
exhibitor_dict["T93"] = "Semcon";
exhibitor_dict["C08"] = "Shapeline";
exhibitor_dict["T131"] = "Sherwin-Williams Sweden AB";
exhibitor_dict["C42"] = "SICK";
exhibitor_dict["C54"] = "Siemens";
exhibitor_dict["T153"] = "Sigma";
exhibitor_dict["C30"] = "SJ AB";
exhibitor_dict["T143"] = "SKF";
exhibitor_dict["C59"] = "Skill";
exhibitor_dict["T113"] = "Sofigate";
exhibitor_dict["T114"] = "Sogeti";
exhibitor_dict["T111"] = "Solution Xperts AB";
exhibitor_dict["C55"] = "SSAB";
exhibitor_dict["T105"] = "STAGA Sweden AB";
exhibitor_dict["C46"] = "Strömsholmen AB";
exhibitor_dict["C21"] = "Sura Magnets AB";
exhibitor_dict["C11"] = "Svensk Kärnbränslehantering AB (SKB)";
exhibitor_dict["K90"] = "Sveriges Ingenjörer";
exhibitor_dict["T101"] = "Svevia AB";
exhibitor_dict["C23"] = "Sweco";
exhibitor_dict["K86"] = "Swedbank";
exhibitor_dict["T136"] = "Swerea AB";
exhibitor_dict["T139"] = "Swisslog-Accalon AB";
exhibitor_dict["C13"] = "Sylog Öst";
exhibitor_dict["T149"] = "Syncron";
exhibitor_dict["C16"] = "Södra";
exhibitor_dict["C44"] = "Teach for Sweden";
exhibitor_dict["T141"] = "Tekniska verken i Linköping AB";
exhibitor_dict["T122"] = "Tetra Pak";
exhibitor_dict["K82"] = "Thule Group";
exhibitor_dict["T97"] = "Totalförsvarets forskningsinstitut (FOI)";
exhibitor_dict["C19"] = "Toyota Material Handling";
exhibitor_dict["C64"] = "Trafikverket";
exhibitor_dict["T109"] = "Triona AB";
exhibitor_dict["K73"] = "Unionen";
exhibitor_dict["K81"] = "Vattenfall AB";
exhibitor_dict["K84"] = "Verisure Securitas Direct";
exhibitor_dict["C04"] = "Viaplay";
exhibitor_dict["T147"] = "Visigon";
exhibitor_dict["C07"] = "Volvo Cars";
exhibitor_dict["C63"] = "Volvo Group";
exhibitor_dict["C22"] = "Vricon Systems AB";
exhibitor_dict["C41"] = "WoodEye AB";
exhibitor_dict["T100"] = "WSP";
exhibitor_dict["K76"] = "Xamera AB";
exhibitor_dict["T134"] = "XMReality AB";
exhibitor_dict["K87"] = "Xylem";
exhibitor_dict["K74"] = "Yaskawa Nordic AB";
exhibitor_dict["C65"] = "ZENUITY";
exhibitor_dict["T118"] = "ÅF";
    
var climate_compensates = ["K80", "T116", "C02", "T135", "T107", "T148", "C62", "T146", "T144", "T138", "T125", "C28", "C35", "T128", "C70", "T151", "C47", "T102", "C56", "C45", "C61", "K79", "C01", "C31", "T98", "C03", "C43", "T123", "K89", "T103", "C58", "T154", "T104", "C38", "T99", "T129", "T145", "T126", "K88", "C09", "T140", "T142", "C69", "C71", "C14", "T133", "K78", "C67", "C48", "C34", "T117", "T132", "C05", "T121", "T124", "C06", "C37", "C36", "T120", "K77", "C50", "C32", "T110", "K75", "C27", "C24", "C72", "C26", "T93", "C08", "C54", "T153", "C30", "C59", "T111", "T105", "C46", "C21", "T101", "C23", "T136", "C13", "T149", "C16", "C44", "T141", "T122", "K82", "T97", "C19", "C64", "T109", "K73", "K81", "C04", "T147", "C63", "C22", "C41", "T100", "K76", "K87", "C65"];
//Size of svg
var width = 1188,
    height = 735;
    svg_link = "interactive_map_2.svg";
    heart_link = "climate_heart.png";
d3.xml(svg_link).mimeType("image/svg+xml").get(function(error, xml) {
  if (error) throw error;
  var svg_map = xml.documentElement;
      document.getElementById("interactive_map").appendChild(svg_map);
    //Set the map to fullscreen and add the zoom-call
    var svg = d3.select("svg")
              .attr("width", "100%")
              .attr("height", "100%")
              .call(zoom)
    ;
    var montrar = document.getElementById("Montrar").childNodes;
    for (var i = 1; i < montrar.length; i += 2) {
        montrar[i].addEventListener('mouseover', hoverOnMonter, false);
        montrar[i].addEventListener('mouseout', exitMonter, false);
        //Populate the exhibitor list
        var node = document.createElement("LI");
        var textnode = document.createTextNode(exhibitor_dict[montrar[i].getElementsByTagName("g")[0].textContent.trim()] + " ");
        node.textContent = montrar[i].getElementsByTagName("g")[0].textContent.trim() + " ";
        node.appendChild(textnode);
        node.setAttribute("onclick", "closeNav()");
        //add the climate-heart
        if (climate_compensates.includes(montrar[i].getElementsByTagName("g")[0].textContent.trim())) {
            var node_image = document.createElement("IMG");
            node_image.setAttribute("src", heart_link);
            node_image.setAttribute("height", "12px");
            node.appendChild(node_image);
        }
        //Find the spot on the image
        node.addEventListener('click', findOnMap, false);
        document.getElementById("exhibitor_names").appendChild(node);
    }
});
//////////////////////////////////////
//    ZOOM FUNCTIONS FOR THE MAP    //
//////////////////////////////////////
var zoom = d3.zoom()
    .on("zoom", zoomed);
function zoomed() {
    d3.select("#zoomable").attr("transform", d3.event.transform);
  }
function scale_fn(x, y) {
    var transform = d3.zoomIdentity //<-- Transforms the coordinates when you press on an exhibitor in the list (both pans and zooms)
    .translate((-x*3+ width/2), (-y*3 + height/2))
    .scale(3);
    d3.select("svg").transition() //<-- Sick animation, >750 ms is prefered, for smooth transition
        .duration(750)
        .call(zoom.transform, transform);
}

//Some cool tooltips, displays the name of the exhibitor over the map
window.onmousemove = function (e) {
    var x = e.clientX,
        y = e.clientY;
    document.getElementById("tooltip").style.top = (y - 20) + 'px';
    document.getElementById("tooltip").style.left = (x + 4) + 'px';
};

var hoverOnMonter = function() {
    var text = exhibitor_dict[this.getElementsByTagName("g")[0].textContent.trim()];
    document.getElementById("tooltip").textContent = text;
    document.getElementById("tooltip").style.display = "block";
};
//!TODO could probalby be improoved
var exitMonter = function() {
    document.getElementById("tooltip").style.display = "none";
};
// Find a monter on the map, set all other monters to an opacity of 0.4 to make it clearer to the viewer
var findOnMap = function() {
    var exhibitor_index = this.textContent.substr(0, this.textContent.indexOf(' '));
    var montrar = document.getElementById("Montrar").childNodes;
    for (var i = 1; i < montrar.length; i += 2) {
        if (montrar[i].getElementsByTagName("g")[0].textContent.trim() === exhibitor_index) {
            montrar[i].style.opacity = "1";
            scale_fn(montrar[i].getElementsByTagName("rect")[0].getAttribute("x"),
                montrar[i].getElementsByTagName("rect")[0].getAttribute("y"));
        } else {
            montrar[i].style.opacity = "0.3";
        }
    }
};
    
// Find monters in a filter on the map, set all other monters to an opacity of 0.4 to make it clearer to the viewer
var filterMap = function() {
    var montrar = document.getElementById("Montrar").childNodes;
    for (var i = 1; i < montrar.length; i += 2) {
        if (active.length == 0) {
            montrar[i].style.opacity = "1";
        }
        else if (active.includes(montrar[i].getElementsByTagName("g")[0].textContent.trim())) {
            montrar[i].style.opacity = "1";
        } else {
            montrar[i].style.opacity = "0.3";
        }
    }
};
//The search filter that is applied in the exhibitor list.
function filter_exhibitors() {
    var input, filter, ul, li, a, i;
    input = document.getElementById("exhibitor_input");
    filter = input.value.toUpperCase();
    ul = document.getElementById("exhibitor_names");
    li = ul.getElementsByTagName("li");
    for (i = 0; i < li.length; i++) {
        if (li[i].innerHTML.toUpperCase().indexOf(filter) > -1) {
            li[i].style.display = "";
        } else {
            li[i].style.display = "none";
        }
    }
}
</script>
